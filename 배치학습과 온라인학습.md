# 1. 배치 학습(Batch Learning)

![image](https://user-images.githubusercontent.com/64063767/125645924-e9e33d27-99de-4f14-89cf-5d2f6b51c49a.png)

- 배치 학습은 **한번에 모든 훈련 데이터를 학습**시키는 방법으로, 시간과 자원을 많이 소모하고 일반적으로 오프라인 환경에서 수행되기 때문에 **오프라인 학습(Offline Learning)**이라고도 한다.
- 학습은 제품서비스 론칭 전에 수행되고, 제품에 학습된 내용을 적용하면, 더 이상의 학습 없이 사용만 된다. 
- 새로운 데이터가 등장하여 머신러닝 모델을 재학습하고자 하는 경우, 이전 데이터에 새로운 데이터를 포함한 전체 데이터를 학습시키고, 학습된 새로운 버전의 모델을 사용해야 한다.
- 새로운 패턴에 대하여 자동화하는 경우, 주기적으로 자동으로 재학습을 할 수 있다.
- 그러나, 많은 양의 데이터에 대하여, 머신러닝 알고리즘을 사용하는 경우에는 그 데이터의 양이 지나치게 많기 때문에 학습 시간이 작게는 몇 시간에서 길게는 몇 주, 한 달 이상의 시간이 소모될 수도 있기 때문에 쉬운 작업은 아니다.
- 데이터의 양이 매우 많아 학습 시간이 지나치게 길거나, 탐사 로봇 같이 자원이 지나치게 한정된 상황, 주식 가격표 같은 실시간 반영이 필요한 상황에서는 배치학습이 아닌 능동적인 학습이 필요하다.

<br/>

# 2. 온라인 학습(Online Learning)

![image](https://user-images.githubusercontent.com/64063767/125645983-23f2cb55-53ef-411e-8e9c-72affed7338f.png)

- 온라인 학습은 일반적으로, 학습이 끝나서 제품화가 된 모델에 대하여, **미니배치(Mini Batch)**라고 하는 작은 묶음 단위의 데이터를 주입하여 모델을 학습시키는 방법이다.
- 미니 배치의 크기가 작기 때문에 학습 단계가 빠르고 비용이 적게 들기 때문에 모델은 데이터가 도착하는 대로 즉시 학습을 할 수 있다.
- 점진적으로 학습이 일어나기 때문에 점진적 학습(Incremental Learning)이라고도 하며,  온라인 학습은 오프라인으로도 시행되기도  하므로(외부 메모리 학습), 온라인 학습이라는 용어보다 점진적 학습이 더 정확한 명칭이라 할 수 있다.
- 온라인 학습은 연속적으로 데이터를 받고 빠른 변화에 스스로 적응해야 하거나, 자원이 매우 한정된 환경에 적합하다.
- 온라인 학습 모델은 새로운 데이터 샘플을 학습하면, **학습이 끝난 데이터는 더 이상 필요하지 않기 때문에 보관하지 않아도 되므로**, 저장 공간을 아낄 수 있다.

<br/>

## 2.1 외부 메모리 학습(Out-Of-Core Learning)

![image](https://user-images.githubusercontent.com/64063767/125647696-d90dcfb1-b20e-464f-b506-b881a35d9584.png)

- 데이터의 일부를 읽어 들여 머신러닝 알고리즘이 학습하며, 전체 데이터가 모두 적용될 때까지 일부를 학습하는 과정을 반복한다.
- 이 경우, 전체 프로세스는 오프라인으로 실행된다. 즉, 실시간 시스템에서 수행되는 것이 아니다.
- 온라인 학습 모델에서는 **학습률(Learning Rate)**이 가장 중요한 하이퍼 파라미터로 작동하며, 이는 모델이 변화하는 데이터에 얼마나 빠르게 적응할지를 결정한다.
- 학습률이 높은 경우, 시스템이 데이터에 빠르게 학습하나, 과거의 데이터를 금방 잊는다.
- 학습률이 낮은 경우, 시스템의 관성이 커져 느리게 학습되지만, 노이즈나 대표성이 없는 데이터 포인트에 덜 민감해진다. 

<br/>

## 2.2 온라인 학습의 문제점

- Bad Data가 주입되면 시스템의 성능이 점진적으로 감소하게 된다.
- 예를 들어, 실시간 추천 알고리즘에서 누군가가 자신이 만든 콘텐츠나 제품을 상위에 노출시키고자, 자신의 의도를 담은 데이터를 다량 생성할 수 있다. 이 경우, 모델은 이 데이터를 학습하여, 실제 알고리즘에서 노출시키고자하는 대상이 아닌, 누군가가 의도적으로 생성한 데이터를 노출시킬 수 있다.
- 때문에, 온라인 학습에서는 시스템을 지속적으로 모니터링하고, 성능 감소가 감지되면, 즉시 학습을 중지시키고, 성능 감소가 이루어지기 전 상태로 되돌려야 한다.
- 또는 이상 감지 머신러닝 알고리즘을 데이터 수집 앞에 넣어, 비정상 데이터가 온라인 학습 모델에 들어가지 않게 막을 수도 있다.

<br/>

# 3. 배치 학습 VS 온라인 학습

- 모델 퍼포먼스에서 정확도 만큼 추론 시간(Inference Time)도 중요하기 때문에 **경량화된 모델**이 필요하다.

|             | Batch(Offline) Learning | Online Learning  |
| ----------- | ----------------------- | ---------------- |
| Data        | Static                  | Fresh            |
| Network     | Disconnected            | Connected        |
| Model       | Static                  | Updating         |
| Weight      | Initialize              | Tuning           |
| Infra(GPU)  | Per call                | Always           |
| Application | Stopping                | Realtime Process |
| Priority    | Correctness             | Speed            |

<br/>

# References

- [머신러닝-1.2. 배치 학습과 온라인 학습](https://gooopy.tistory.com/123)

